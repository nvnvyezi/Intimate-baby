webpackJsonp([6],{D6Cc:function(t,i){},Pce9:function(t,i){},nH6r:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("P9l9");var n={name:"musicPlayer",data:function(){return{playControl:!0,firstCome:!0,musicList:[],musicName:"",musicUrl:"",imgUrl:"",currentTime:this.timeCovert(0),currentTotalTime:this.timeCovert(0),currenxIndex:0,modeIndex:0,musicSwitch:!1,musicLyric:"",lyric:"",lyricIndex:0,showTime:!1,showMusicBox:!0}},methods:{timeCovert:function(t){var i=Math.floor(t/60),e=Math.floor(t-60*i);return i<10&&(i="0"+i),e<10&&(e="0"+e),t=i+" : "+e},showMusic:function(){this.musicSwitch=!this.musicSwitch},trackInfo:function(t){var i=this;this.musicName=this.musicList[t].name,this.musicUrl=this.musicList[t].src,this.imgUrl=this.musicList[t].imgUrl,Object(s.r)(this.musicList[t].mid,function(t){t=(t=(t=(new function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.encode=function(e){var s,n,o,r,a,c,h,u="",l=0;for(e=i(e);l<e.length;)r=(s=e.charCodeAt(l++))>>2,a=(3&s)<<4|(n=e.charCodeAt(l++))>>4,c=(15&n)<<2|(o=e.charCodeAt(l++))>>6,h=63&o,isNaN(n)?c=h=64:isNaN(o)&&(h=64),u=u+t.charAt(r)+t.charAt(a)+t.charAt(c)+t.charAt(h);return u},this.decode=function(i){var s,n,o,r,a,c,h="",u=0;for(i=i.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<i.length;)s=t.indexOf(i.charAt(u++))<<2|(r=t.indexOf(i.charAt(u++)))>>4,n=(15&r)<<4|(a=t.indexOf(i.charAt(u++)))>>2,o=(3&a)<<6|(c=t.indexOf(i.charAt(u++))),h+=String.fromCharCode(s),64!=a&&(h+=String.fromCharCode(n)),64!=c&&(h+=String.fromCharCode(o));return h=e(h)};var i=function(t){t=t.replace(/\r\n/g,"\n");for(var i="",e=0;e<t.length;e++){var s=t.charCodeAt(e);s<128?i+=String.fromCharCode(s):s>127&&s<2048?(i+=String.fromCharCode(s>>6|192),i+=String.fromCharCode(63&s|128)):(i+=String.fromCharCode(s>>12|224),i+=String.fromCharCode(s>>6&63|128),i+=String.fromCharCode(63&s|128))}return i},e=function(t){for(var i="",e=0,s=0,n=0;e<t.length;)if((s=t.charCodeAt(e))<128)i+=String.fromCharCode(s),e++;else if(s>191&&s<224)n=t.charCodeAt(e+1),i+=String.fromCharCode((31&s)<<6|63&n),e+=2;else{n=t.charCodeAt(e+1);var o=t.charCodeAt(e+2);i+=String.fromCharCode((15&s)<<12|(63&n)<<6|63&o),e+=3}return i}}).decode(t)).replace(/[\r\n]/g,"")).replace(/\[/g,"]"),i.musicLyric=t.split("]")})},changeTime:function(){var t=document.getElementById("audio");this.currentTotalTime=this.timeCovert(t.duration)},playStatus:function(){var t=document.getElementById("audio");this.playControl?(this.firstCome&&(this.firstCome=!1,t.load()),t.play()):t.pause(),this.playControl=!this.playControl},playTime:function(){var t=document.getElementById("audio").currentTime;this.currentTime=this.timeCovert(t),document.getElementsByClassName("mus--progressBar")[0].style.width=t/audio.duration*100+"%"},previousMusic:function(){this.lyricIndex=0;var t=document.getElementById("audio");if(0==this.modeIndex&&(t.loop=!1,this.currenxIndex<=0?(this.currenxIndex=this.musicList.length-1,t.childNodes[0].src=null,this.trackInfo(this.currenxIndex),t.load(),this.playControl||t.play()):(t.childNodes[0].src=null,this.trackInfo(--this.currenxIndex),t.load(),this.playControl||t.play())),1==this.modeIndex){for(var i=Math.floor(Math.random()*this.musicList.length);i==this.currenxIndex;)i=Math.floor(Math.random()*this.musicList.length);this.currenxIndex=i,t.childNodes[0].src=null,this.trackInfo(i),t.load(),this.playControl||t.play()}2==this.modeIndex&&(t.loop="loop",this.playControl||t.play())},nextMusic:function(){this.lyricIndex=0;var t=document.getElementById("audio");if(0==this.modeIndex&&(t.loop=!1,this.currenxIndex>=this.musicList.length-1?(this.currenxIndex=0,t.childNodes[0].src=null,this.trackInfo(this.currenxIndex),t.load(),this.playControl||t.play()):(t.childNodes[0].src=null,this.trackInfo(++this.currenxIndex),t.load(),this.playControl||t.play())),1==this.modeIndex){for(var i=Math.floor(Math.random()*this.musicList.length);i==this.currenxIndex;)i=Math.floor(Math.random()*this.musicList.length);this.currenxIndex=i,t.childNodes[0].src=null,this.trackInfo(i),t.load(),this.playControl||t.play()}2==this.modeIndex&&(t.loop="loop",this.playControl||t.play())},playMode:function(){this.modeIndex>=2?this.modeIndex=0:this.modeIndex++}},mounted:function(){var t=this;Object(s.s)(function(i){for(var e=i.result,n=function(i,n){Object(s.w)(e[i].mid,function(s){e[i].imgUrl="https://y.gtimg.cn/music/photo_new/T002R300x300M000"+e[i].albummid+".jpg?max_age=2592000",e[i].src="http://dl.stream.qqmusic.qq.com/"+s.data.items[0].filename+"?vkey="+s.data.items[0].vkey+"&guid=652943595&uin=0&fromtag=66",i==n-1&&(t.musicList=e,t.trackInfo(t.currenxIndex))})},o=0,r=e.length;o<r;o++)n(o,r)})},watch:{currentTime:function(){for(var t=this.lyricIndex,i=this.musicLyric.length;t<i;t++)-1!=this.musicLyric[t].indexOf(this.currentTime.replace(/ /g,""))&&(""!=this.musicLyric[t+1]&&(this.lyric=this.musicLyric[t+1]),this.lyricIndex=t+1)},playControl:function(t){this.showTime=!this.showTime},$route:function(t){"/bookChapter"==t.path?this.showMusicBox=!1:this.showMusicBox=!0}}},o={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.showMusicBox,expression:"showMusicBox"}],staticClass:"musicPlayer"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showTime,expression:"showTime"}],staticClass:"mus--time"},[e("div",{staticClass:"mus--progressBar"}),t._v(" "),e("div",{staticClass:"mus--time--current"},[t._v(t._s(t.currentTime))]),t._v(" "),e("div",{staticClass:"mus--time--total"},[t._v(t._s(t.currentTotalTime))])]),t._v(" "),e("section",{directives:[{name:"show",rawName:"v-show",value:t.showTime,expression:"showTime"}],staticClass:"mus--photo",style:{backgroundImage:"url("+t.imgUrl+")"}}),t._v(" "),e("section",{directives:[{name:"show",rawName:"v-show",value:t.showTime,expression:"showTime"}],staticClass:"lyric"},[t._v(t._s(t.lyric))]),t._v(" "),e("section",{staticClass:"mus--switch",on:{click:t.showMusic}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.musicSwitch,expression:"musicSwitch"}],staticClass:"mus--container"},[e("header",{staticClass:"mus--con--name"},[t._v(t._s(t.musicName))]),t._v(" "),e("div",{staticClass:"mus--con--info",class:{mode1:0==t.modeIndex,mode2:1==t.modeIndex,mode3:2==t.modeIndex},on:{click:t.playMode}}),t._v(" "),e("div",{staticClass:"mus--con--controls"},[e("div",{staticClass:"mus--con--cont--previous",on:{click:t.previousMusic}}),t._v(" "),e("div",{class:{"mus--con--cont--play":t.playControl,"mus--con--cont--stop":!t.playControl},on:{click:t.playStatus}}),t._v(" "),e("div",{staticClass:"mus--con--cont--next",on:{click:t.nextMusic}})]),t._v(" "),e("audio",{attrs:{id:"audio"},on:{ended:t.nextMusic,canplay:t.changeTime,timeupdate:t.playTime}},[e("source",{attrs:{src:t.musicUrl,type:""}})])])])},staticRenderFns:[]};var r={components:{music:e("VU/8")(n,o,!1,function(t){e("Pce9")},"data-v-6455e4a6",null).exports},name:"home",data:function(){return{show:!1,showMainSwitch:!0}},computed:{},methods:{showMenu:function(){this.show=!this.show},hidden:function(){this.show=!1}},watch:{$route:function(t){"/bookChapter"==t.path?this.showMainSwitch=!1:this.showMainSwitch=!0}}},a={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"main"},[e("music"),t._v(" "),e("keep-alive",[t.$route.meta.keepAlive?e("router-view"):t._e()],1),t._v(" "),t.$route.meta.keepAlive?t._e():e("router-view"),t._v(" "),e("nav",{directives:[{name:"show",rawName:"v-show",value:t.showMainSwitch,expression:"showMainSwitch"}],staticClass:"main-switch"},[e("button",{staticClass:"main-switch-btn",on:{click:t.showMenu}}),t._v(" "),e("transition",{attrs:{name:"menu-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"main-menu"},[e("router-link",{staticClass:"inner inner-1",attrs:{to:"/",tag:"div"},nativeOn:{click:function(i){return t.hidden(i)}}}),t._v(" "),e("router-link",{staticClass:"inner inner-2",attrs:{to:"movie",tag:"div"},nativeOn:{click:function(i){return t.hidden(i)}}}),t._v(" "),e("router-link",{staticClass:"inner inner-3",attrs:{to:"",tag:"div"},nativeOn:{click:function(i){return t.hidden(i)}}})],1)])],1)],1)},staticRenderFns:[]};var c=e("VU/8")(r,a,!1,function(t){e("D6Cc")},"data-v-1f72db24",null);i.default=c.exports}});
//# sourceMappingURL=6.9d2fec9e1a70a1155020.js.map