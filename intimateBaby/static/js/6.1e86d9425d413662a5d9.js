webpackJsonp([6],{D3RK:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("P9l9"),a={name:"bookList",props:{sex:{type:String,required:!0}},data:function(){return{arrResult:[],flag:2,gender:1,loadJudge:!0,page:1,binJ:!0,dataBinJ:!0}},watch:{sex:function(t){this.arrResult=[],this.switchData()}},computed:{type:function(){var t=this.$store.state.home.type;return t||(t=localStorage.getItem("seniorityType")),t}},mounted:function(){this.getData(),this.binJ&&(this.binJ=!1,window.addEventListener("scroll",this.showFooter,!1))},methods:{showFooter:function(){var t=this,s=document.getElementsByClassName("box__ul__li");s[s.length-1].getBoundingClientRect().bottom-document.documentElement.clientHeight<120&&this.dataBinJ&&(this.dataBinJ=!1,setTimeout(function(){t.page++,t.getData()},300))},changeInfoBook:function(t){var s=t.currentTarget.children[1].firstChild.firstChild.getAttribute("bid");this.$store.dispatch({type:"triggerBookId",id:s})},getData:function(){var t=this;Object(i.A)(this.page,this.gender,this.type,function(s){t.dataBinJ=!0,0!=s.length?s.forEach(function(s){var e={};e.imgUrl=s.cover,e.title=s.title,e.author=s.author,e.bid=s.bid,e.status=s.status,e.reads=(s.reads/1e4).toFixed(1)+"万",e.words=(s.words/1e4).toFixed(1)+"万字",e.tags=s.tags.split(",").slice(0,3),t.arrResult.push(e)}):t.loadJudge=!1})},switchData:function(){switch(this.sex){case"man":this.gender=1,this.page=0,this.loadJudge=!0,this.getData();break;case"woman":this.page=0,this.gender=2,this.loadJudge=!0,this.getData()}}},beforeDestroy:function(){window.addEventListener("scroll",this.showFooter,!1)}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"templateBox"},[e("ul",{staticClass:"box__ul"},t._l(t.arrResult,function(s,i){return e("router-link",{key:i,staticClass:"box__ul__li",attrs:{to:"bookinformation",tag:"li"},nativeOn:{click:function(s){return t.changeInfoBook(s)}}},[e("div",{staticClass:"box__ul__li--imgBox"},[e("img",{directives:[{name:"lazyLoad",rawName:"v-lazyLoad",value:s.imgUrl,expression:"item.imgUrl"}],staticClass:"box__ul__li--imgBox--img",attrs:{src:"",alt:s.author}})]),t._v(" "),e("div",{staticClass:"box__ul__li--right"},[e("div",{staticClass:"box__ul__li--right--title"},[e("h3",{staticClass:"box__ul__li--right--title--h3",attrs:{bid:s.bid}},[t._v(t._s(s.title))])]),t._v(" "),e("div",{staticClass:"box__ul__li--right--author"},[e("span",{staticClass:"box__ul__li--right--author--author"},[t._v(t._s(s.author))]),t._v(" "),e("span",{staticClass:"box__ul__li--right--author--reads"},[t._v(t._s(s.reads))])]),t._v(" "),e("div",{staticClass:"box__ul__li--right--tags"},[0==s.status?e("span",{staticClass:"statNameblue"},[t._v("连载")]):e("span",{staticClass:"statNamered"},[t._v("完结")]),t._v(" "),e("span",{staticClass:"box__ul__li--right--tags--words"},[t._v(t._s(s.words))]),t._v(" "),e("span",{staticClass:"box__ul__li--right--tags--one"},[t._v(t._s(s.tags[0]))]),t._v(" "),e("span",{staticClass:"box__ul__li--right--tags--two"},[t._v(t._s(s.tags[1]))])])])])})),t._v(" "),e("footer",{staticClass:"templateBox--footer"},[t.loadJudge?e("div",{staticClass:"bookList--footer--text"},[t._v("\n      加载更多\n    ")]):e("div",{staticClass:"bookList--footer--textend"},[t._v("\n      没有更多\n    ")])])])},staticRenderFns:[]};var l={components:{bookList:e("VU/8")(a,o,!1,function(t){e("EPfF")},"data-v-608c62dc",null).exports},name:"moreBook",data:function(){return{sexJudge:!0,sex:"man"}},computed:{title:function(){var t=this.$store.state.home.listName;return t||(t=localStorage.getItem("listName")),t}},methods:{changeSex:function(){this.sexJudge=!this.sexJudge;var t=document.getElementsByClassName("navType__ul__li");this.sexJudge?(this.sex="man",t[1].classList.remove("liColor"),t[0].classList.add("liColor")):(this.sex="woman",t[0].classList.remove("liColor"),t[1].classList.add("liColor"))}}},n={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"box"},[s("nav",{staticClass:"navType"},[s("ul",{staticClass:"navType__ul"},[s("li",{staticClass:"navType__ul__li liColor",on:{click:this.changeSex}},[this._v("男生")]),this._v(" "),s("li",{staticClass:"navType__ul__li",on:{click:this.changeSex}},[this._v("女生")])])]),this._v(" "),s("bookList",{attrs:{sex:this.sex}})],1)},staticRenderFns:[]};var r=e("VU/8")(l,n,!1,function(t){e("SH/j")},"data-v-521fc513",null);s.default=r.exports},EPfF:function(t,s){},"SH/j":function(t,s){}});
//# sourceMappingURL=6.1e86d9425d413662a5d9.js.map