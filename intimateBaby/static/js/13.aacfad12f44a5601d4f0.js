webpackJsonp([13],{OxUN:function(t,e){},yBLY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("P9l9"),o=a("n5eY"),i={name:"chapterRouter",data:function(){return{chapterName:"",hint:"",hintJudge:!1,timeId:null,color:"D5EFD2",colorJudge:!1,fontSize:2,user_id:8e6,encryptKey:"37e81a9d8f02596e1b895d07c171d5c9"}},computed:{bookId:function(){var t=this.$store.state.bookInfo.bookId;return t||(t=localStorage.getItem("bookId")),t},timestamp:function(){return Date.now()}},mounted:function(){var t=this,e=document.getElementsByClassName("chapterR")[0];e.addEventListener("touchstart",this.handleStart,!1),e.addEventListener("touchmove",this.stopEvent,!1),e.addEventListener("touchend",this.handleEnd,!1);var a=Object(o.a)(this.bookId+""+this.timestamp+this.user_id+this.encryptKey);Object(s.a)(this.bookId,this.user_id,a,this.timestamp,function(e){t.len=e[0].volumeList.length,localStorage.setItem("chapterSize",t.len)})},methods:{subFont:function(){if(1==this.fontSize.toFixed(1)){this.showWrong("当前已经是最小字体")}else this.fontSize-=.2},addFont:function(){if(2==this.fontSize.toFixed(1)){this.showWrong("当前已经是最大字体")}else this.fontSize+=.2},changeColor:function(t){for(var e=document.getElementsByClassName("chapterR--setUp__content--color__ul__li"),a=0,s=e.length;a<s;a++)e[a].classList.contains("selectColor")&&e[a].classList.remove("selectColor");t.target.classList.add("selectColor");var o=t.target.getAttribute("data-color");this.color=o},setUp:function(){this.colorJudge=!this.colorJudge},changeCatelog:function(t){this.chapterName=t},showWrong:function(t){var e=this;this.hintJudge=!0,this.hint=t,clearTimeout(this.timeId),this.timeId=setTimeout(function(){e.hintJudge=!1,e.timeId=null},1e3)},left:function(){if(!this.timeId){var t=this.$store.state.bookInfo.page;if(t<=0){t=0,this.$store.dispatch({type:"triggerPage",page:t}),localStorage.setItem("chapterPage",t);this.showWrong("当前已经是第一章")}else t--,this.$store.dispatch({type:"triggerPage",page:t}),localStorage.setItem("chapterPage",t)}},right:function(){if(!this.timeId){var t=this.$store.state.bookInfo.page;if(t>=this.len){t=this.len,this.$store.dispatch({type:"triggerPage",page:t}),localStorage.setItem("chapterPage",t);this.showWrong("当前已经是最后一章")}else t++,this.$store.dispatch({type:"triggerPage",page:t}),localStorage.setItem("chapterPage",t)}},handleStart:function(t){this.startX=t.changedTouches[0].pageX,this.startY=t.changedTouches[0].pageY},handleEnd:function(t){var e=t.changedTouches[0].pageX,a=t.changedTouches[0].pageY,s=document.documentElement.clientHeight,o=document.documentElement.clientWidth;if(e===this.startX&&a===this.startY&&e>=o/2-50&&e<=o/2+50&&a>=s/2-100&&a<=s/2+100){var i=document.getElementsByClassName("chapterR--footer")[0],c=document.getElementsByClassName("chapterR--header")[0];i.classList.toggle("bottomAni"),c.classList.toggle("topAni")}}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chapterR"},[a("section",{directives:[{name:"show",rawName:"v-show",value:t.hintJudge,expression:"hintJudge"}],staticClass:"chapterR--hint"},[t._v(t._s(t.hint))]),t._v(" "),a("header",{staticClass:"chapterR--header topAni"},[a("nav",[a("ul",{staticClass:"chapterR--header__ul"},[a("router-link",{staticClass:"chapterR--header__ul--left",attrs:{to:"bookinformatecatelog",tag:"li"}},[a("span",{staticClass:"chapterR--header__ul--Lspan"},[t._v("目录")])]),t._v(" "),a("li",{staticClass:"chapterR--header__ul--middle"},[t._v(t._s(t.chapterName))]),t._v(" "),t._m(0)],1)])]),t._v(" "),a("transition",[a("router-view",{attrs:{sizeFont:t.fontSize,color:t.color},on:{changeCatelog:t.changeCatelog,showWrong:t.showWrong}})],1),t._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:t.colorJudge,expression:"colorJudge"}],staticClass:"chapterR--setUp"},[a("div",{staticClass:"chapterR--setUp__content"},[a("div",{staticClass:"chapterR--setUp__content--font"},[a("ul",{staticClass:"chapterR--setUp__content--font__ul"},[a("li",{on:{click:t.subFont}},[t._v("Aa-")]),t._v(" "),a("li",{on:{click:t.addFont}},[t._v("Aa+")]),t._v(" "),a("li",[t._v("左右翻页")]),t._v(" "),a("li",[t._v("上下翻页")])])]),t._v(" "),a("div",{staticClass:"chapterR--setUp__content--color"},[a("ul",{staticClass:"chapterR--setUp__content--color__ul"},[a("li",{staticClass:"chapterR--setUp__content--color__ul__li selectColor",attrs:{"data-color":"D5EFD2"},on:{click:t.changeColor}}),t._v(" "),a("li",{staticClass:"chapterR--setUp__content--color__ul__li",attrs:{"data-color":"F5E6CE"},on:{click:t.changeColor}}),t._v(" "),a("li",{staticClass:"chapterR--setUp__content--color__ul__li",attrs:{"data-color":"F4F4F4"},on:{click:t.changeColor}}),t._v(" "),a("li",{staticClass:"chapterR--setUp__content--color__ul__li",attrs:{"data-color":"CDE4FD"},on:{click:t.changeColor}}),t._v(" "),a("li",{staticClass:"chapterR--setUp__content--color__ul__li",attrs:{"data-color":"0A0A0A"},on:{click:t.changeColor}})])])])]),t._v(" "),a("footer",{staticClass:"chapterR--footer bottomAni"},[a("nav",[a("ul",{staticClass:"chapterR--footer__ul"},[a("li",{staticClass:"chapterR--footer__ul--li",on:{click:t.left}},[a("span",{staticClass:"chapterR--footer__ul--span"},[t._v("上章")])]),t._v(" "),a("li",{staticClass:"chapterR--footer__ul--li",on:{click:t.right}},[a("span",{staticClass:"chapterR--footer__ul--span"},[t._v("下章")])]),t._v(" "),a("li",{staticClass:"chapterR--footer__ul--li",on:{click:t.setUp}},[a("span",{staticClass:"chapterR--footer__ul--span"},[t._v("设置")])]),t._v(" "),a("router-link",{staticClass:"chapterR--footer__ul--li",attrs:{to:"bookinformation",tag:"li"}},[a("span",{staticClass:"chapterR--footer__ul--span"},[t._v("封面")])])],1)])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"chapterR--header__ul--right"},[e("span",{staticClass:"chapterR--header__ul--Rspan"},[this._v("书架")])])}]};var n=a("VU/8")(i,c,!1,function(t){a("OxUN")},"data-v-347d652c",null);e.default=n.exports}});
//# sourceMappingURL=13.aacfad12f44a5601d4f0.js.map