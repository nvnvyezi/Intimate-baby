webpackJsonp([9],{ixEv:function(t,e){},tIqf:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("P9l9"),i={name:"bookSearchData",data:function(){return{searchResult:[],page:1,loadJudge:!0}},methods:{changeInfoBook:function(t){var e=t.currentTarget.children[1].firstChild.firstChild.getAttribute("bid");this.$store.dispatch({type:"triggerBookId",id:e})},showFooter:function(){var t=this,e=document.getElementsByClassName("searchBox--footer"),a=document.getElementsByTagName("li");a[a.length-1].getBoundingClientRect().bottom-document.documentElement.clientHeight<120&&(e[0].scrollIntoView(!0),setTimeout(function(){t.page++,t.getSearchData()},300))},getSearchData:function(){var t=this;Object(s.p)(this.searchData,this.page,function(e){0!=e.length?e.forEach(function(e){var a={};a.imgUrl=e.cover,a.title=e.title,a.author=e.author,a.status=e.status,a.bid=e.bid,a.reads="加书架",a.words=(e.words/1e4).toFixed(1)+"万字",a.tags=e.tags.split(",").slice(0,2),t.searchResult.push(a)}):t.loadJudge=!1})}},computed:{searchData:function(){var t=this.$store.state.bookSearch.searchData;return t||(t=localStorage.getItem("searchData")),t}},watch:{searchData:function(){this.searchResult=[],this.getSearchData()}},mounted:function(){this.$nextTick(function(){document.getElementsByClassName("form__search__content--input")[0].value=localStorage.searchData,this.iconJudge=!0}),this.getSearchData(),document.getElementsByClassName("searchBox")[0].addEventListener("touchstart",this.showFooter,!1)},beforeDestroyed:function(){document.getElementsByClassName("searchBox")[0].removeEventListener("touchstart",this.showFooter,!1)}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"searchBox"},[a("ul",{staticClass:"box__ul"},t._l(t.searchResult,function(e,s){return a("router-link",{key:s,staticClass:"box__ul__li",attrs:{to:"bookinformation",tag:"li"},nativeOn:{click:function(e){return t.changeInfoBook(e)}}},[a("div",{staticClass:"box__ul__li--imgBox"},[a("img",{directives:[{name:"lazyLoad",rawName:"v-lazyLoad",value:e.imgUrl,expression:"item.imgUrl"}],staticClass:"box__ul__li--imgBox--img",attrs:{src:"",alt:e.author}})]),t._v(" "),a("div",{staticClass:"box__ul__li--right"},[a("div",{staticClass:"box__ul__li--right--title"},[a("h3",{staticClass:"box__ul__li--right--title--h3",attrs:{bid:e.bid}},[t._v(t._s(e.title))])]),t._v(" "),a("div",{staticClass:"box__ul__li--right--author"},[a("p",{staticClass:"box__ul__li--right--author--author"},[t._v(t._s(e.author))])]),t._v(" "),a("div",{staticClass:"box__ul__li--right--tags"},[0==e.status?a("span",{staticClass:"statNameblue"},[t._v("连载")]):a("span",{staticClass:"statNamered"},[t._v("完结")]),t._v(" "),a("span",{staticClass:"box__ul__li--right--tags--words"},[t._v(t._s(e.words))]),t._v(" "),a("span",{staticClass:"box__ul__li--right--tags--one"},[t._v(t._s(e.tags[0]))]),t._v(" "),a("span",{staticClass:"box__ul__li--right--tags--two"},[t._v(t._s(e.tags[1]))])])])])})),t._v(" "),a("footer",{staticClass:"searchBox--footer"},[t.loadJudge?a("div",{staticClass:"bookList--footer--text"},[t._v("\n      加载更多\n    ")]):a("div",{staticClass:"bookList--footer--textend"},[t._v("\n      没有更多\n    ")])])])},staticRenderFns:[]};var r=a("VU/8")(i,o,!1,function(t){a("ixEv")},"data-v-b83122fe",null);e.default=r.exports}});
//# sourceMappingURL=9.1289a920d1e2c0398c96.js.map