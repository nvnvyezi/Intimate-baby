webpackJsonp([4],{"7Otq":function(t,e,s){t.exports=s.p+"static/img/logo.c68b3d9.png"},J8gI:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"spinner"},[s("div",{staticClass:"spinner-container container1"},[s("div",{staticClass:"circle1"}),t._v(" "),s("div",{staticClass:"circle2"}),t._v(" "),s("div",{staticClass:"circle3"}),t._v(" "),s("div",{staticClass:"circle4"})]),t._v(" "),s("div",{staticClass:"spinner-container container2"},[s("div",{staticClass:"circle1"}),t._v(" "),s("div",{staticClass:"circle2"}),t._v(" "),s("div",{staticClass:"circle3"}),t._v(" "),s("div",{staticClass:"circle4"})]),t._v(" "),s("div",{staticClass:"spinner-container container3"},[s("div",{staticClass:"circle1"}),t._v(" "),s("div",{staticClass:"circle2"}),t._v(" "),s("div",{staticClass:"circle3"}),t._v(" "),s("div",{staticClass:"circle4"})])])}]};var i=s("VU/8")({name:"loading"},a,!1,function(t){s("m79W")},"data-v-3b85335a",null).exports,n=s("P9l9"),r={name:"HelloWorld",components:{loading:i},data:function(){return{LRstatus:!0,id:{err:"用户名格式不对",remind:null},pw:{err:"密码请包含大写字母、小写字母、数字、特殊符号中的至少三类，且长度在8到20之间",remind:null},email:{show:!1,err:"邮箱格式不对",remind:null}}},computed:{message:function(){return this.email.show?"Login":"Register"},formTitle:function(){return this.email.show?"User Register":"User Login"},buttonText:function(){return this.email.show?"REGISTER":"LOGIN"}},mounted:function(){var t=this;Object(n.E)(function(e){e.err?(console.log(e.data),t.$toast("服务器出了点小问题")):t.$toast(e.data)})},methods:{showRegister:function(){var t=this;this.email.show?Object(n.E)(function(e){e.err?(console.log(e.data),t.$toast("服务器出了点小问题")):t.$toast(e.data)}):Object(n.G)(function(e){e.err?(console.log(e.data),t.$toast("服务器出了点小问题")):t.$toast(e.data)}),this.email.show=!this.email.show},login:function(){var t=this;if(this.LRstatus=!1,this.email.show)if(!1===this.id.remind&&!1===this.pw.remind&&!1===this.email.remind){var e=document.getElementsByClassName("input__box--input"),s=e[0].value,a=e[1].value,i=e[2].value;Object(n.H)(s,a,i,function(e){e.err?(t.LRstatus=!0,console.log(e.data),t.$toast(e.data)):setTimeout(function(){t.LRstatus=!0,t.$toast(e.data),t.$route.meta.isLogin=!0},500)})}else this.$toast("请输入正确的用户名,密码和邮箱"),this.LRstatus=!0;else if(!1===this.id.remind&&!1===this.pw.remind){var r=document.getElementsByClassName("input__box--input"),o=r[0].value,c=r[1].value;Object(n.F)(o,c,function(e){e.err?(t.LRstatus=!0,console.log(e.data),t.$toast(e.data)):setTimeout(function(){t.LRstatus=!0,t.$toast(e.data),t.$route.meta.isLogin=!0,localStorage.userName=o,userBookShelfG(o,function(e){e.err?t.$toast(e.data):localStorage.bookshelf=e.result}),location.reload()},500)})}else this.$toast("请输入正确的用户名和密码"),this.LRstatus=!0},idTest:function(t){var e=t.target.value;/^[a-zA-Z0-9_-]{4,16}$/.test(e)?this.id.remind=!1:this.id.remind=!0},pwTest:function(t){var e=t.target.value;/^(?!([A-Z]*|[a-z]*|[0-9]*|[!-/:-@\[-`{-~]*|[A-Za-z]*|[A-Z0-9]*|[A-Z!-/:-@\[-`{-~]*|[a-z0-9]*|[a-z!-/:-@\[-`{-~]*|[0-9!-/:-@\[-`{-~]*)$)[A-Za-z0-9!-/:-@\[-`{-~]{8,20}$/.test(e)?this.pw.remind=!1:this.pw.remind=!0},emailTest:function(t){var e=t.target.value;/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/.test(e)?this.email.remind=!1:this.email.remind=!0},removeIcon:function(t){t.target.parentNode.classList.remove("iconErr"),t.target.parentNode.classList.remove("iconCorrect")},removeWarn1:function(t){this.id.remind||""==t.target.value?(t.target.parentNode.classList.add("iconErr"),t.target.parentNode.classList.remove("iconCorrect")):(t.target.parentNode.classList.add("iconCorrect"),t.target.parentNode.classList.remove("iconErr"))},removeWarn2:function(t){this.pw.remind||""==t.target.value?(t.target.parentNode.classList.add("iconErr"),t.target.parentNode.classList.remove("iconCorrect")):(t.target.parentNode.classList.add("iconCorrect"),t.target.parentNode.classList.remove("iconErr"))},removeWarn3:function(t){this.email.remind||""==t.target.value?(t.target.parentNode.classList.add("iconErr"),t.target.parentNode.classList.remove("iconCorrect")):(t.target.parentNode.classList.add("iconCorrect"),t.target.parentNode.classList.remove("iconErr"))}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("router-link",{staticClass:"login-home",attrs:{to:"/",tag:"header"}}),t._v(" "),s("div",{staticClass:"shade"}),t._v(" "),s("div",{staticClass:"form__box"},[t._m(0),t._v(" "),s("div",{staticClass:"input__box"},[s("span",{staticClass:"input__box--span"},[t._v(t._s(t.formTitle))]),t._v(" "),s("label",{staticClass:"input--icon"},[s("input",{staticClass:"input__box--input",attrs:{type:"text",placeholder:"Username",id:"username"},on:{focus:t.removeIcon,blur:t.removeWarn1,input:t.idTest}})]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.id.remind,expression:"id.remind"}],staticClass:"remind"},[t._v(t._s(t.id.err))]),t._v(" "),s("label",{staticClass:"input--icon"},[s("input",{staticClass:"input__box--input",attrs:{type:"password",name:"",id:"password",placeholder:"Password"},on:{focus:t.removeIcon,blur:t.removeWarn2,input:t.pwTest}})]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.pw.remind,expression:"pw.remind"}],staticClass:"remind"},[t._v(t._s(t.pw.err))]),t._v(" "),s("label",{directives:[{name:"show",rawName:"v-show",value:t.email.show,expression:"email.show"}],staticClass:"input--icon"},[s("input",{staticClass:"input__box--input",attrs:{type:"text",id:"email",placeholder:"Email"},on:{focus:t.removeIcon,blur:t.removeWarn3,input:t.emailTest}})]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.email.remind,expression:"email.remind"}],staticClass:"remind"},[t._v(t._s(t.email.err))]),t._v(" "),s("span",{staticClass:"input__box--span2"},[t._v("New User? "),s("strong",{staticClass:"strong-up",on:{click:t.showRegister}},[t._v(t._s(t.message))])])]),t._v(" "),s("div",{staticClass:"login__box"},[s("button",{staticClass:"login__box--button"},[t.LRstatus?s("span",{staticClass:"login__box--span",on:{click:t.login}},[t._v(t._s(t.buttonText))]):s("loading")],1)])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img__box"},[e("img",{staticClass:"img__box--img",attrs:{src:s("7Otq"),alt:""}})])}]};var c=s("VU/8")(r,o,!1,function(t){s("vKZS")},"data-v-4345dbf4",null);e.default=c.exports},m79W:function(t,e){},vKZS:function(t,e){}});
//# sourceMappingURL=4.aa4f5b724e49a2cd50c1.js.map