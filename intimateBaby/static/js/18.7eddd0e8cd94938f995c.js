webpackJsonp([18],{FFgA:function(t,a){},tIqf:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("P9l9"),i={name:"bookSearchData",data:function(){return{searchResult:[],page:1,loadJudge:!0}},methods:{changeInfoBook:function(t){var a=t.currentTarget.children[1].firstChild.firstChild.getAttribute("bid");this.$store.dispatch({type:"triggerBookId",id:a})},showFooter:function(){var t=this,a=document.getElementsByClassName("searchBox--footer"),s=document.getElementsByTagName("li");s[s.length-1].getBoundingClientRect().bottom-document.documentElement.clientHeight<120&&(a[0].scrollIntoView(!0),setTimeout(function(){t.page++,t.getSearchData()},300))},getSearchData:function(){var t=this;Object(e.p)(this.searchData,this.page,function(a){0!=a.length?a.forEach(function(a){var s={};s.imgUrl=a.cover,s.title=a.title,s.author=a.author,s.status=a.status,s.bid=a.bid,s.reads="加书架",s.words=(a.words/1e4).toFixed(1)+"万字",s.tags=a.tags.split(",").slice(0,2),t.searchResult.push(s)}):t.loadJudge=!1})}},computed:{searchData:function(){var t=this.$store.state.bookSearch.searchData;return t||(t=localStorage.getItem("searchData")),t}},watch:{searchData:function(){this.searchResult=[],this.getSearchData()}},mounted:function(){this.getSearchData();var t=document.getElementsByClassName("searchBox");t[0].addEventListener("touchstart",this.showFooter,!1),t[0].addEventListener("touchmove",this.showFooter,!1),t[0].addEventListener("touchend",this.showFooter,!1)}},o={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"searchBox"},[s("ul",{staticClass:"box__ul"},t._l(t.searchResult,function(a,e){return s("router-link",{key:e,staticClass:"box__ul__li",attrs:{to:"bookinformation",tag:"li"},nativeOn:{click:function(a){return t.changeInfoBook(a)}}},[s("div",{staticClass:"box__ul__li--imgBox"},[s("img",{directives:[{name:"lazyLoad",rawName:"v-lazyLoad",value:a.imgUrl,expression:"item.imgUrl"}],staticClass:"box__ul__li--imgBox--img",attrs:{src:"",alt:a.author}})]),t._v(" "),s("div",{staticClass:"box__ul__li--right"},[s("div",{staticClass:"box__ul__li--right--title"},[s("h3",{staticClass:"box__ul__li--right--title--h3",attrs:{bid:a.bid}},[t._v(t._s(a.title))])]),t._v(" "),s("div",{staticClass:"box__ul__li--right--author"},[s("p",{staticClass:"box__ul__li--right--author--author"},[t._v(t._s(a.author))]),t._v(" "),s("span",{staticClass:"box__ul__li--right--author--reads"},[t._v(t._s(a.reads))])]),t._v(" "),s("div",{staticClass:"box__ul__li--right--tags"},[0==a.status?s("span",{staticClass:"statNameblue"},[t._v("连载")]):s("span",{staticClass:"statNamered"},[t._v("完结")]),t._v(" "),s("span",{staticClass:"box__ul__li--right--tags--words"},[t._v(t._s(a.words))]),t._v(" "),s("span",{staticClass:"box__ul__li--right--tags--one"},[t._v(t._s(a.tags[0]))]),t._v(" "),s("span",{staticClass:"box__ul__li--right--tags--two"},[t._v(t._s(a.tags[1]))])])])])})),t._v(" "),s("footer",{staticClass:"searchBox--footer"},[t.loadJudge?s("div",{staticClass:"bookList--footer--text"},[t._v("\n      加载更多\n    ")]):s("div",{staticClass:"bookList--footer--textend"},[t._v("\n      没有更多\n    ")])])])},staticRenderFns:[]};var r=s("VU/8")(i,o,!1,function(t){s("FFgA")},"data-v-0036275f",null);a.default=r.exports}});
//# sourceMappingURL=18.7eddd0e8cd94938f995c.js.map