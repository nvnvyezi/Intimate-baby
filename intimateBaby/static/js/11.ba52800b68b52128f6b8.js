webpackJsonp([11],{U8ML:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Au9i"),a=s("7+uW"),n=s("P9l9");a.default.component(i.Swipe.name,i.Swipe),a.default.component(i.SwipeItem.name,i.SwipeItem);var o={name:"recom",data:function(){return{result:{},result1:[],swipeData:[],boyResult:[],boyResult1:[],girlResult:[],girlResult1:[],doneResult:[],bestSelResult:[],newResult:[],recommendResult:[],list:"",list1:"",list2:"",list3:"",list4:"",list5:"",list6:"",judge:!0,doneJudge:!0,judge1:!0,refreshJudge:!0,refreshJudge1:!0,moreProp:""}},created:function(){var t=this;this.judge=!1,this.judge1=!1;Object(n.k)(function(e){t.list=e.module[3].m_s_name,e.module[0].content.forEach(function(e){var s={};s.imgUrl=e.image_url,s.linkText=e.link_text;var i=e.link_url.indexOf("bid:"),a=e.link_url.indexOf("});");s.bid=e.link_url.slice(i+4,a),t.swipeData.push(s)}),e.module[3].content.forEach(function(e){var s={};s.imgUrl=e.book_cover,s.linkText=(e.bookname.length,e.bookname),s.bid=e.bid,t.result1.push(s)}),t.judge=!0}),this.getBoyGirl(function(t){}),this.getBestSelling(),this.getRecommend()},computed:{hide:function(){return this.$store.state.home.hide}},mounted:function(){if("/"===this.$route.path){var t=document.getElementsByClassName("recomBox")[0];t.addEventListener("touchstart",this.start,!1),t.addEventListener("touchend",this.end,!1)}},methods:{changeInfoBook:function(t){var e="",s=t.currentTarget.getAttribute("class");-1!==s.indexOf("aaa")?e=t.currentTarget.firstChild.lastChild.getAttribute("bid"):-1!==s.indexOf("bbb")?e=t.currentTarget.lastChild.getAttribute("bid"):-1!==s.indexOf("ccc")?e=t.currentTarget.firstChild.getAttribute("bid"):-1!==s.indexOf("ddd")?e=t.currentTarget.children[1].firstChild.getAttribute("bid"):-1!==s.indexOf("eee")&&null==(e=t.currentTarget.children[1].getAttribute("bid"))&&(e=t.currentTarget.children[0].children[1].firstChild.getAttribute("bid")),this.$store.dispatch({type:"triggerBookId",id:e}),localStorage.setItem("bookId",e)},changeProp:function(t){switch(t.currentTarget.getAttribute("class")){case"bestSelling__foot":this.$store.commit({type:"changeMoreBookTitle",title:"精品畅销"}),localStorage.getItem("MoreBookTitle","精品畅销");break;case"new--foot":this.$store.commit({type:"changeMoreBookTitle",title:"新书潜力"}),localStorage.getItem("MoreBookTitle","新书潜力")}},getRecom:function(t){var e=this;this.result1=[],Object(n.n)(function(s){s.forEach(function(t){var s={};s.bid=t.bid,s.imgUrl=t.book_cover,s.linkText=t.bookname,e.result1.push(s)}),t()})},addrefresh:function(){var t=this;if(this.refreshJudge){this.refreshJudge=!1,this.judge=!1,this.getRecom(function(){t.judge=!0});var e=document.getElementsByClassName("refresh__box--icon");e[0].classList.add("refreshing"),setTimeout(function(){t.refreshJudge=!0,e[0].classList.remove("refreshing")},1e3)}},getDoneBook:function(t){var e=this;this.doneResult=[],Object(n.l)(function(s){s.forEach(function(t){var s={};s.bid=t.bid,s.imgUrl=t.book_cover,s.linkText=t.bookname.slice(0,3)+"...",e.doneResult.push(s)}),t()})},addrefresh1:function(){var t=this;if(this.refreshJudge1){this.refreshJudge1=!1,this.doneJudge=!1,this.getDoneBook(function(){t.doneJudge=!0});var e=document.getElementsByClassName("refresh__box--icon");e[1].classList.add("refreshing"),setTimeout(function(){t.refreshJudge1=!0,e[1].classList.remove("refreshing")},1e3)}},getBoyGirl:function(t){var e=this;this.doneJudge=!1,Object(n.i)(function(s){e.list2=s.module[6].m_s_name,e.list1=s.module[3].m_s_name,e.list3=s.module[9].m_s_name,s.module[3].content.forEach(function(t,s){var i={};i.bid=t.bid,s<4?(i.imgUrl=t.book_cover,i.linkText=t.bookname,e.boyResult.push(i)):(i.linkText=t.bookname,i.stat_name=t.stat_name,i.class_name=t.class_name,i.introduction=t.introduction,e.boyResult1.push(i))}),s.module[6].content.forEach(function(t,s){var i={};i.bid=t.bid,s<4?(i.imgUrl=t.book_cover,i.linkText=t.bookname,e.girlResult.push(i)):(i.linkText=t.bookname,i.stat_name=t.stat_name,i.class_name=t.class_name,i.introduction=t.introduction,e.girlResult1.push(i))}),s.module[9].content.forEach(function(t){var s={};s.imgUrl=t.book_cover,s.linkText=t.bookname,s.bid=t.bid,e.doneResult.push(s)}),e.doneJudge=!0,t()})},getBestSelling:function(){var t=this;Object(n.h)(function(e){t.list4=e.module[4].m_s_name,t.list5=e.module[8].m_s_name,e.module[4].content.forEach(function(e,s){var i={};i.bid=e.bid,i.bookName=e.bookname,i.authorName=e.author_name,i.size=e.size.slice(0,3)+"万字",i.stat_name=e.stat_name,i.class_name=e.class_name,i.introduction=e.introduction,i.tag=e.tag[0],i.imgUrl=e.book_cover,t.bestSelResult.push(i)}),e.module[8].content.forEach(function(e){var s={};s.imgUrl=e.book_cover,s.linkText=(e.bookname.length,e.bookname),s.bid=e.bid,t.newResult.push(s)})})},getRecommend:function(){var t=this;Object(n.m)(function(e){t.list6=e.module[6].content.title,e.module[7].content.forEach(function(e,s){var i={};i.bid=e.bid,i.bookName=e.bookname,i.authorName=e.author_name,i.size=e.size.slice(0,3)+"万字",i.stat_name=e.stat_name,i.class_name=e.class_name,i.introduction=e.introduction,i.imgUrl=e.book_cover,t.recommendResult.push(i)})})},start:function(t){this.startx=t.touches[0].pageX,this.starty=t.touches[0].pageY},end:function(t){var e,s;switch(e=t.changedTouches[0].pageX,s=t.changedTouches[0].pageY,this.getDirection(this.startx,this.starty,e,s)){case 0:break;case 1:this.hideChange(1);break;case 2:this.hideChange(2)}},hideChange:function(t){2===t&&(nav1.classList.add("aniContrary"),nav1.classList.remove("ani")),1===t&&(nav1.classList.remove("aniContrary"),nav1.classList.add("ani"))},getAngle:function(t,e){return 180*Math.atan2(e,t)/Math.PI},getDirection:function(t,e,s,i){var a=s-t,n=i-e,o=0,l=this.getAngle(a,n);return l>=-170&&l<=-10?o=1:l>10&&l<170?o=2:l>=170&&l<=180||l>=-180&&l<-170?o=3:l>=-10&&l<=10&&(o=4),o}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recomBox"},[i("mt-swipe",{staticClass:"swipe__box",attrs:{auto:4e3}},t._l(t.swipeData,function(t,e){return i("mt-swipe-item",{key:e},[i("img",{attrs:{src:t.imgUrl,alt:t.linkText,srcset:""}})])})),t._v(" "),i("nav",{attrs:{id:"nav2"}},[i("router-link",{attrs:{to:"cate",tag:"div"}},[i("span",[t._v("分类")])]),t._v(" "),i("router-link",{attrs:{to:"seniority",tag:"div"}},[i("span",[t._v("排行")])]),t._v(" "),i("router-link",{attrs:{to:"booksearch",tag:"div"}},[i("span",[t._v("搜索")])]),t._v(" "),i("router-link",{attrs:{to:"",tag:"div"}},[i("span",[t._v("女频")])]),t._v(" "),i("router-link",{attrs:{to:"",tag:"div"}},[i("span",[t._v("完本")])])],1),t._v(" "),i("section",{staticClass:"bookBox"},[i("div",{staticClass:"book-box"},[i("h3",[t._v(t._s(t.list))]),t._v(" "),t.judge?i("div",{staticClass:"li__box"},[i("div",{staticClass:"li__box--ul"},[i("ul",t._l(t.result1,function(e,s){return i("li",{key:s,staticClass:"aaa",on:{click:t.changeInfoBook}},[i("router-link",{attrs:{to:"bookinformation",tag:"div"}},[i("img",{directives:[{name:"lazyLoad",rawName:"v-lazyLoad",value:e.imgUrl,expression:"item.imgUrl"}],attrs:{src:"",alt:e.linkText}}),t._v(" "),i("span",{attrs:{bid:e.bid}},[t._v(t._s(e.linkText.length>4?e.linkText.slice(0,3)+"...":e.linkText))])])],1)}))])]):i("div",{staticClass:"loading__box"},[i("img",{attrs:{src:s("eSFX"),alt:""}})]),t._v(" "),i("div",{staticClass:"refresh__box",on:{click:t.addrefresh}},[i("span",{staticClass:"refresh__box--text"},[t._v("换一换")]),t._v(" "),i("span",{staticClass:"refresh__box--icon"})])])]),t._v(" "),i("section",{staticClass:"boy__box"},[i("h3",[t._v(t._s(t.list1))]),t._v(" "),i("div",{staticClass:"boy__box--img"},[i("ul",{staticClass:"boy__box--img__ul"},t._l(t.boyResult,function(e,s){return i("router-link",{key:s,staticClass:"boy__box--img__ul--li  bbb",attrs:{to:"bookinformation",tag:"li"},nativeOn:{click:function(e){return t.changeInfoBook(e)}}},[i("img",{directives:[{name:"lazyLoad",rawName:"v-lazyLoad",value:e.imgUrl,expression:"item.imgUrl"}],attrs:{src:"",alt:e.linkText}}),t._v(" "),i("span",{attrs:{bid:e.bid}},[t._v(t._s(e.linkText.length>4?e.linkText.slice(0,3)+"...":e.linkText))])])}))]),t._v(" "),i("div",{staticClass:"boy__box--text"},[i("ul",{staticClass:"boy__box--text__ul"},t._l(t.boyResult1,function(e,s){return i("router-link",{key:s,staticClass:"boy__box--text__ul--li ccc",attrs:{to:"bookinformation",tag:"li"},nativeOn:{click:function(e){return t.changeInfoBook(e)}}},[i("div",{staticClass:"boy__box--text__ul--li--h3",attrs:{bid:e.bid}},[t._v(t._s(e.linkText))]),t._v(" "),i("div",{staticClass:"boy__box--text__ul--li--tags"},["连载"==e.stat_name?i("span",{staticClass:"statNameblue"},[t._v(t._s(e.stat_name))]):i("span",{staticClass:"statNamered"},[t._v(t._s(e.stat_name))]),t._v(" "),i("span",[t._v(t._s(e.class_name))])]),t._v(" "),i("div",{staticClass:"boy__box--text__ul--li--text"},[t._v("\n            "+t._s(e.introduction)+"\n          ")])])}))])]),t._v(" "),i("section",{staticClass:"boy__box"},[i("h3",[t._v(t._s(t.list2))]),t._v(" "),i("div",{staticClass:"boy__box--img"},[i("ul",{staticClass:"boy__box--img__ul"},t._l(t.girlResult,function(e,s){return i("router-link",{key:s,staticClass:"boy__box--img__ul--li bbb",attrs:{to:"bookinformation",tag:"li"},nativeOn:{click:function(e){return t.changeInfoBook(e)}}},[i("img",{directives:[{name:"lazyLoad",rawName:"v-lazyLoad",value:e.imgUrl,expression:"item.imgUrl"}],attrs:{src:"",alt:e.linkText}}),t._v(" "),i("span",{attrs:{bid:e.bid}},[t._v(t._s(e.linkText.length>4?e.linkText.slice(0,3)+"...":e.linkText))])])}))]),t._v(" "),i("div",{staticClass:"boy__box--text"},[i("ul",{staticClass:"boy__box--text__ul"},t._l(t.girlResult1,function(e,s){return i("router-link",{key:s,staticClass:"boy__box--text__ul--li ccc",attrs:{to:"bookinformation",tag:"li"},nativeOn:{click:function(e){return t.changeInfoBook(e)}}},[i("div",{staticClass:"boy__box--text__ul--li--h3",attrs:{bid:e.bid}},[t._v(t._s(e.linkText))]),t._v(" "),i("div",{staticClass:"boy__box--text__ul--li--tags"},["连载"==e.stat_name?i("span",{staticClass:"statNameblue"},[t._v(t._s(e.stat_name))]):i("span",{staticClass:"statNamered"},[t._v(t._s(e.stat_name))]),t._v(" "),i("span",[t._v(t._s(e.class_name))])]),t._v(" "),i("div",{staticClass:"boy__box--text__ul--li--text"},[t._v("\n            "+t._s(e.introduction)+"\n          ")])])}))])]),t._v(" "),i("section",{staticClass:"bookBox"},[i("div",{staticClass:"book-box"},[i("h3",[t._v(t._s(t.list3))]),t._v(" "),t.doneJudge?i("div",{staticClass:"li__box"},[i("div",{staticClass:"li__box--ul"},[i("ul",t._l(t.doneResult,function(e,s){return i("li",{key:s,staticClass:"aaa",on:{click:t.changeInfoBook}},[i("router-link",{attrs:{to:"bookinformation",tag:"div"}},[i("img",{directives:[{name:"lazyLoad",rawName:"v-lazyLoad",value:e.imgUrl,expression:"item.imgUrl"}],attrs:{src:"",alt:e.linkText}}),t._v(" "),i("span",{attrs:{bid:e.bid}},[t._v(t._s(e.linkText.length>4?e.linkText.slice(0,3)+"...":e.linkText))])])],1)}))])]):i("div",{staticClass:"loading__box"},[i("img",{attrs:{src:s("eSFX"),alt:""}})]),t._v(" "),i("div",{staticClass:"refresh__box",on:{click:t.addrefresh1}},[i("span",{staticClass:"refresh__box--text"},[t._v("换一换")]),t._v(" "),i("span",{staticClass:"refresh__box--icon"})])])]),t._v(" "),i("section",{staticClass:"bestSelling"},[i("h3",[t._v(t._s(t.list4))]),t._v(" "),i("div",{staticClass:"bestSelling__ul"},t._l(t.bestSelResult,function(e,s){return i("router-link",{key:s,staticClass:"bestSelling__ul__li eee",attrs:{to:"bookinformation",tag:"li"},nativeOn:{click:function(e){return t.changeInfoBook(e)}}},[0===s?i("div",{staticClass:"bestSelling__ul__li__block"},[i("div",{staticClass:"bestSelling__ul__li__block--left"},[i("img",{directives:[{name:"lazyLoad",rawName:"v-lazyLoad",value:e.imgUrl,expression:"item.imgUrl"}],staticClass:"bestSelling__ul__li__block--left--img",attrs:{src:"",alt:e.bookName}}),t._v(" "),i("i",{staticClass:"bestSelling__ul__li__block--left--icon"})]),t._v(" "),i("div",{staticClass:"bestSelling__ul__li__block--right"},[i("h3",{staticClass:"bestSelling__ul__li__block--right--title",attrs:{bid:e.bid}},[t._v(t._s(e.bookName))]),t._v(" "),i("p",{staticClass:"bestSelling__ul__li__block--right--author"},[t._v(t._s(e.authorName))]),t._v(" "),i("p",{staticClass:"bestSelling__ul__li__block--right--info"},[t._v(t._s(e.introduction))]),t._v(" "),i("div",{staticClass:"bestSelling__ul__li__block--right--tag"},[i("span",{staticClass:"bestSelling__ul__li__block--right--stat"},[t._v(t._s(e.stat_name))]),t._v(" "),i("span",{staticClass:"bestSelling__ul__li__block--right--size"},[t._v(t._s(e.size))]),t._v(" "),i("span",{staticClass:"bestSelling__ul__li__block--right--tags"},[t._v(t._s(e.tag))])])])]):t._e(),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:0!==s,expression:"index !== 0"}],staticClass:"bestSelling__ul__li--list"},[t._v(t._s(s+1))]),t._v(" "),i("h3",{directives:[{name:"show",rawName:"v-show",value:0!==s,expression:"index !== 0"}],staticClass:"bestSelling__ul__li--title",attrs:{bid:e.bid}},[t._v(t._s(e.bookName))]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:0!==s,expression:"index !== 0"}],staticClass:"bestSelling__ul__li--stat"},[t._v(t._s(e.stat_name))]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:0!==s,expression:"index !== 0"}],staticClass:"bestSelling__ul__li--type"},[t._v(t._s(e.class_name))])])})),t._v(" "),i("router-link",{staticClass:"bestSelling__foot",attrs:{to:"moreBook",tag:"div"},nativeOn:{click:function(e){return t.changeProp(e)}}},[i("div",{staticClass:"bestSelling__foot--text"},[t._v("查看更多")])])],1),t._v(" "),i("section",{staticClass:"new"},[i("h3",[t._v(t._s(t.list5))]),t._v(" "),i("div",{staticClass:"new--middle"},[i("ul",{staticClass:"new--middle__ul"},t._l(t.newResult,function(e,s){return i("router-link",{key:s,staticClass:"new--middle__ul__li bbb",attrs:{to:"bookinformation",tag:"li"},nativeOn:{click:function(e){return t.changeInfoBook(e)}}},[i("img",{directives:[{name:"lazyLoad",rawName:"v-lazyLoad",value:e.imgUrl,expression:"item.imgUrl"}],staticClass:"new--middle__ul__li--img",attrs:{src:"",alt:e.linkText}}),t._v(" "),i("span",{staticClass:"new--middle__ul__li--title",attrs:{bid:e.bid}},[t._v(t._s(e.linkText.length>4?e.linkText.slice(0,3)+"...":e.linkText))])])}))]),t._v(" "),i("router-link",{staticClass:"new--foot",attrs:{to:"moreBook",tag:"div"},nativeOn:{click:function(e){return t.changeProp(e)}}},[i("div",{staticClass:"new--foot__title"},[t._v("\n        查看更多\n      ")])])],1),t._v(" "),i("section",{staticClass:"recommend"},[i("h3",[t._v(t._s(t.list6))]),t._v(" "),i("div",{staticClass:"recommend--body"},[i("ul",{staticClass:"recommend--body--ul"},t._l(t.recommendResult,function(e,s){return i("router-link",{key:s,staticClass:"recommend--body--ul--li ddd",attrs:{to:"bookinformation",tag:"li"},nativeOn:{click:function(e){return t.changeInfoBook(e)}}},[i("div",{staticClass:"recommend--body--ul--li__left"},[i("img",{directives:[{name:"lazyLoad",rawName:"v-lazyLoad",value:e.imgUrl,expression:"item.imgUrl"}],staticClass:"recommend--body--ul--li__left--img",attrs:{src:"",alt:e.bookName}})]),t._v(" "),i("div",{staticClass:"recommend--body--ul--li__right"},[i("h3",{staticClass:"recommend--body--ul--li__right--title",attrs:{bid:e.bid}},[t._v(t._s(e.bookName))]),t._v(" "),i("p",{staticClass:"recommend--body--ul--li__right--author"},[t._v(t._s(e.authorName))]),t._v(" "),i("p",{staticClass:"recommend--body--ul--li__right--info"},[t._v(t._s(e.introduction))]),t._v(" "),i("div",{staticClass:"recommend--body--ul--li__right--tags"},["连载"==e.stat_name?i("span",{staticClass:"statNameblue"},[t._v(t._s(e.stat_name))]):i("span",{staticClass:"statNamered"},[t._v(t._s(e.stat_name))]),t._v(" "),i("span",{staticClass:"recommend--body--ul--li__right--tags--two"},[t._v(t._s(e.size))]),t._v(" "),i("span",{staticClass:"recommend--body--ul--li__right--tags--three"},[t._v(t._s(e.class_name))])])])])}))])]),t._v(" "),i("nav",{staticClass:"footerNav",attrs:{id:"nav1"}},[i("router-link",{staticClass:"footerNav--div",attrs:{to:"/",tag:"div"}}),t._v(" "),i("router-link",{staticClass:"footerNav--div",attrs:{to:"",tag:"div"}}),t._v(" "),i("router-link",{staticClass:"footerNav--div",attrs:{to:"",tag:"div"}}),t._v(" "),i("router-link",{staticClass:"footerNav--div",attrs:{to:"",tag:"div"}})],1)],1)},staticRenderFns:[]};var r=s("VU/8")(o,l,!1,function(t){s("hgjx")},"data-v-7332eaad",null);e.default=r.exports},hgjx:function(t,e){}});
//# sourceMappingURL=11.ba52800b68b52128f6b8.js.map