webpackJsonp([8],{"40vo":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("P9l9"),r={name:"bookSearch",data:function(){return{listName:"搜索",searchJudge:!1,searchData1:[],flag:!0}},methods:{back:function(){this.$router.go(-1)},getSearchData:function(t){var a=this;this.q=t.target.value,Object(s.o)(t.target.value,function(t){1===t.status?(a.searchJudge=!0,t.data.length>4?a.searchData1=t.data.slice(0,4):a.searchData1=t.data):a.searchJudge=!1})},saveHistory:function(t){this.flag=!1;var a=t.target.innerText;if(""!==a){var e=[];null!==localStorage.getItem("searchHistory")&&(e=localStorage.getItem("searchHistory").split(",")),-1===e.indexOf(a)&&(e.unshift(a),localStorage.setItem("searchHistory",e)),this.$store.dispatch({type:"triggerSearchData",data:a}),localStorage.setItem("searchData",a),document.getElementsByClassName("form__search__content--input")[0].value=a,this.searchJudge=!1}}}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box"},[e("nav",[e("div",{on:{click:t.back}},[t._v("↤")]),t._v(" "),e("div",[e("span",[t._v(t._s(t.listName))])]),t._v(" "),e("router-link",{attrs:{to:"/",tag:"div"}},[t._v("H")])],1),t._v(" "),e("div",{staticClass:"form__search"},[e("div",{staticClass:"form__search__content"},[e("span",{staticClass:"form__search__content--icon"}),t._v(" "),e("input",{staticClass:"form__search__content--input",attrs:{type:"text",name:"",placeholder:"书名/作者/关键词"},on:{input:t.getSearchData}})])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.searchJudge,expression:"searchJudge"}],staticClass:"searchDataBox1"},[e("ul",{staticClass:"searchDataBox1__ul"},t._l(t.searchData1,function(a,s){return e("router-link",{key:s,staticClass:"searchDataBox1__ul--li",attrs:{to:"booksearchdata",tag:"li"},nativeOn:{click:function(a){return t.saveHistory(a)}}},[t._v(t._s(a))])}))]),t._v(" "),e("keep-alive",[t.$route.meta.keepAlive?e("router-view"):t._e()],1),t._v(" "),t.$route.meta.keepAlive?t._e():e("router-view")],1)},staticRenderFns:[]};var i=e("VU/8")(r,c,!1,function(t){e("aSCv")},"data-v-ba90477e",null);a.default=i.exports},aSCv:function(t,a){}});
//# sourceMappingURL=8.2f4a1ef9d1897857cf2a.js.map