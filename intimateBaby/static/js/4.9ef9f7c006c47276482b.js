webpackJsonp([4],{"XwO+":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("mvHQ"),s=o.n(a),i=o("P9l9"),r=0,n=8;function c(t){return m(l(f(t),t.length*n))}function l(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var o=1732584193,a=-271733879,s=-1732584194,i=271733878,r=0;r<t.length;r+=16){var n=o,c=a,l=s,u=i;a=v(a=v(a=v(a=v(a=g(a=g(a=g(a=g(a=d(a=d(a=d(a=d(a=h(a=h(a=h(a=h(a,s=h(s,i=h(i,o=h(o,a,s,i,t[r+0],7,-680876936),a,s,t[r+1],12,-389564586),o,a,t[r+2],17,606105819),i,o,t[r+3],22,-1044525330),s=h(s,i=h(i,o=h(o,a,s,i,t[r+4],7,-176418897),a,s,t[r+5],12,1200080426),o,a,t[r+6],17,-1473231341),i,o,t[r+7],22,-45705983),s=h(s,i=h(i,o=h(o,a,s,i,t[r+8],7,1770035416),a,s,t[r+9],12,-1958414417),o,a,t[r+10],17,-42063),i,o,t[r+11],22,-1990404162),s=h(s,i=h(i,o=h(o,a,s,i,t[r+12],7,1804603682),a,s,t[r+13],12,-40341101),o,a,t[r+14],17,-1502002290),i,o,t[r+15],22,1236535329),s=d(s,i=d(i,o=d(o,a,s,i,t[r+1],5,-165796510),a,s,t[r+6],9,-1069501632),o,a,t[r+11],14,643717713),i,o,t[r+0],20,-373897302),s=d(s,i=d(i,o=d(o,a,s,i,t[r+5],5,-701558691),a,s,t[r+10],9,38016083),o,a,t[r+15],14,-660478335),i,o,t[r+4],20,-405537848),s=d(s,i=d(i,o=d(o,a,s,i,t[r+9],5,568446438),a,s,t[r+14],9,-1019803690),o,a,t[r+3],14,-187363961),i,o,t[r+8],20,1163531501),s=d(s,i=d(i,o=d(o,a,s,i,t[r+13],5,-1444681467),a,s,t[r+2],9,-51403784),o,a,t[r+7],14,1735328473),i,o,t[r+12],20,-1926607734),s=g(s,i=g(i,o=g(o,a,s,i,t[r+5],4,-378558),a,s,t[r+8],11,-2022574463),o,a,t[r+11],16,1839030562),i,o,t[r+14],23,-35309556),s=g(s,i=g(i,o=g(o,a,s,i,t[r+1],4,-1530992060),a,s,t[r+4],11,1272893353),o,a,t[r+7],16,-155497632),i,o,t[r+10],23,-1094730640),s=g(s,i=g(i,o=g(o,a,s,i,t[r+13],4,681279174),a,s,t[r+0],11,-358537222),o,a,t[r+3],16,-722521979),i,o,t[r+6],23,76029189),s=g(s,i=g(i,o=g(o,a,s,i,t[r+9],4,-640364487),a,s,t[r+12],11,-421815835),o,a,t[r+15],16,530742520),i,o,t[r+2],23,-995338651),s=v(s,i=v(i,o=v(o,a,s,i,t[r+0],6,-198630844),a,s,t[r+7],10,1126891415),o,a,t[r+14],15,-1416354905),i,o,t[r+5],21,-57434055),s=v(s,i=v(i,o=v(o,a,s,i,t[r+12],6,1700485571),a,s,t[r+3],10,-1894986606),o,a,t[r+10],15,-1051523),i,o,t[r+1],21,-2054922799),s=v(s,i=v(i,o=v(o,a,s,i,t[r+8],6,1873313359),a,s,t[r+15],10,-30611744),o,a,t[r+6],15,-1560198380),i,o,t[r+13],21,1309151649),s=v(s,i=v(i,o=v(o,a,s,i,t[r+4],6,-145523070),a,s,t[r+11],10,-1120210379),o,a,t[r+2],15,718787259),i,o,t[r+9],21,-343485551),o=_(o,n),a=_(a,c),s=_(s,l),i=_(i,u)}return Array(o,a,s,i)}function u(t,e,o,a,s,i){return _((r=_(_(e,t),_(a,i)))<<(n=s)|r>>>32-n,o);var r,n}function h(t,e,o,a,s,i,r){return u(e&o|~e&a,t,e,s,i,r)}function d(t,e,o,a,s,i,r){return u(e&a|o&~a,t,e,s,i,r)}function g(t,e,o,a,s,i,r){return u(e^o^a,t,e,s,i,r)}function v(t,e,o,a,s,i,r){return u(o^(e|~a),t,e,s,i,r)}function _(t,e){var o=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(o>>16)<<16|65535&o}function f(t){for(var e=Array(),o=(1<<n)-1,a=0;a<t.length*n;a+=n)e[a>>5]|=(t.charCodeAt(a/n)&o)<<a%32;return e}function m(t){for(var e=r?"0123456789ABCDEF":"0123456789abcdef",o="",a=0;a<4*t.length;a++)o+=e.charAt(t[a>>2]>>a%4*8+4&15)+e.charAt(t[a>>2]>>a%4*8&15);return o}var b={name:"bookInformation",data:function(){return{bookData:{},commentData:[],result1:[],arrResult:[],refreshJudge:!0,user_id:8e6,encryptKey:"37e81a9d8f02596e1b895d07c171d5c9",bookshelfJudge1:this.bookshelfJudge,iconJudge:!1}},computed:{bookId:{get:function(){var t=this.$store.state.bookInfo.bookId;return t||(t=localStorage.getItem("bookId")),t},set:function(t){this.$store.dispatch({type:"triggerBookId",id:t}),localStorage.setItem("bookId",t),this.getBookInfo()}},bookName:function(){var t=this.$store.state.bookInfo.bookName;return t||(t=localStorage.getItem("bookName")),t},authorId:{get:function(){var t=this.$store.state.bookInfo.authorId;return t||(t=localStorage.getItem("authorId")),t}},authorName:{get:function(){var t=this.$store.state.bookInfo.authorName;return t||(t=localStorage.getItem("authorName")),t}},timestamp:function(){return Date.now()},bookshelfJudge:{get:function(){try{return-1!=localStorage.bookshelf.indexOf(localStorage.bookId)}catch(t){return!1}},set:function(t){console.log(t),this.bookshelfJudge1=t}}},methods:{newChapter:function(){this.$store.dispatch({type:"triggerPage",page:this.length}),this.$store.dispatch({type:"triggerSize",size:this.length}),localStorage.chapterPage=this.length},getCatelog:function(){var t=this,e=c(this.bookId+""+this.timestamp+this.user_id+this.encryptKey),o=[];Object(i.a)(this.bookId,this.user_id,e,this.timestamp,function(e){e.forEach(function(t){t.volumeList.forEach(function(t){var e={};e.chapterName=t.chapterName,e.contUrlSuffix=t.contUrlSuffix,o.push(e)})}),t.length=e[0].volumeList.length,localStorage.chapterSize=t.length,localStorage.setItem("bookCatelog",s()(o))})},changeBookId:function(t){var e=t.currentTarget.getAttribute("bid");this.bookId=e},addBookshelf:function(){var t=localStorage.getItem("bookId"),e=[];localStorage.bookshelf&&(e=localStorage.bookshelf.split(",")),-1===e.indexOf(t)&&(e.push(t),localStorage.bookshelf=t),this.bookshelfJudge=!0},propCatelog:function(){this.$store.dispatch({type:"triggerBookId",id:this.bookId})},changeInfoBook:function(t){var e=t.currentTarget.getAttribute("bid");this.bookId=e,localStorage.setItem("bookId",e)},showP:function(t){t.currentTarget.parentNode.parentNode.firstChild.classList.toggle("poff"),t.currentTarget.parentNode.parentNode.firstChild.classList.toggle("pshow"),t.target.classList.toggle("ir"),t.target.classList.toggle("il")},getBookInfo:function(){var t=this,e=c(this.bookId+""+this.timestamp+this.user_id+this.encryptKey);Object(i.c)(this.bookId,this.user_id,e,this.timestamp,function(e){var o={};o.imgUrl=e.imgUrl,o.title=e.bookName,o.author=e.authorName,o.authorId=e.authorId,o.category=e.className,o.words=e.wordCount+"万字",o.chapterId=e.firstChapter.chapterId,o.status=e.state,o.info=e.desc,o.lastet_chapter=e.lastChapter.chapterName,localStorage.setItem("authorId",e.authorId),localStorage.setItem("authorName",e.authorName),localStorage.setItem("bookName",e.bookName),t.$store.dispatch({type:"triggerAuthor",id:e.authorId,name:e.authorName}),t.$store.dispatch({type:"triggerBookName",name:e.bookName}),t.bookData=o,t.getCatelog(),t.getComments()})},getComments:function(){var t=this;this.commentData=[],Object(i.b)(this.authorId,this.bookId,function(e){e.forEach(function(e){var o={};o.userPhoto=e.userPhoto,o.nickName=e.nickName,o.text=e.text,t.commentData.push(o)}),t.getRecom(),t.getData()})},addrefresh:function(){var t=this;if(this.refreshJudge){var e=document.getElementsByClassName("bookBox--c")[0];e.style.height=e.offsetHeight+"px",this.refreshJudge=!1,this.getRecom();var o=document.getElementsByClassName("refresh__box--icon");o[0].classList.add("refreshing"),setTimeout(function(){t.refreshJudge=!0,o[0].classList.remove("refreshing")},1e3)}},getRecom:function(){var t=this;Object(i.d)(this.bookName,this.authorName,function(e){t.result1=[],e.forEach(function(e){var o={};o.bid=e.id,o.imgUrl=e.cover,o.linkText=e.bookname.length>3?e.bookname.slice(0,3)+"...":e.bookname,t.result1.push(o)})})},getData:function(){var t=this;this.arrResult=[],Object(i.r)(this.authorId,function(e){e.forEach(function(e){var o={};o.imgUrl=e.cover,o.title=e.title,o.author=e.author,o.bid=e.bid,o.status=e.status,o.words=(e.words/1e4).toFixed(1)+"万字",o.tags=e.category,t.arrResult.push(o)})})}},mounted:function(){this.getBookInfo()},updated:function(){if(!this.iconJudge){var t=document.getElementsByClassName("cover--info--text--p")[0];t.offsetHeight>84&&(this.iconJudge=!0,t.classList.add("poff"))}}},k={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"box"},[o("section",{staticClass:"cover--header"},[o("div",{staticClass:"cover--header--img"},[o("img",{directives:[{name:"lazyLoad",rawName:"v-lazyLoad",value:t.bookData.imgUrl,expression:"bookData.imgUrl"}],staticClass:"cover--header--img--photo",attrs:{src:"",alt:""}})]),t._v(" "),o("div",{staticClass:"cover--header--info"},[o("h1",{staticClass:"cover--header--info--title"},[t._v(t._s(t.bookData.title))]),t._v(" "),o("router-link",{staticClass:"cover--header--info--author",attrs:{to:""}},[t._v(t._s(t.bookData.author))]),t._v(" "),o("p",{staticClass:"cover--header--info--tags"},[o("span",{staticClass:"tag1"},[t._v(t._s(t.bookData.category))]),o("span",[t._v(t._s(t.bookData.words))])]),t._v(" "),1==t.bookData.status?o("p",{staticClass:"cover--header--info--stat"},[t._v("已完结")]):o("p",{staticClass:"cover--header--info--stat"},[t._v("连载中")])],1)]),t._v(" "),o("section",{staticClass:"cover--buttons"},[o("router-link",{staticClass:"cover--buttons--button",attrs:{to:"bookChapter",tag:"button"}},[t._v("开始阅读")]),t._v(" "),t.bookshelfJudge1?o("button",{staticClass:"cover--buttons--button",staticStyle:{"background-color":"#f08300",color:"white"},attrs:{disabled:"disabled"}},[t._v("加书架")]):o("button",{staticClass:"cover--buttons--button",on:{click:t.addBookshelf}},[t._v("加书架")]),t._v(" "),o("button",{staticClass:"cover--buttons--button"},[t._v("离线下载")])],1),t._v(" "),o("section",{staticClass:"cover--info"},[o("div",{staticClass:"cover--info--text"},[o("p",{staticClass:"cover--info--text--p"},[t._v(t._s(t.bookData.info))]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:t.iconJudge,expression:"iconJudge"}],staticClass:"cover--info--text--icon"},[o("i",{staticClass:"ir",on:{click:t.showP}})])]),t._v(" "),o("router-link",{staticClass:"cover--info--text--new",attrs:{to:"bookchapter",tag:"div"},nativeOn:{click:function(e){return t.newChapter(e)}}},[o("i",{staticClass:"li"}),o("span",{staticClass:"ltext"},[t._v("最新")]),o("span",{staticClass:"ctext"},[t._v(t._s(t.bookData.lastet_chapter))]),o("i",{staticClass:"ri"})]),t._v(" "),o("router-link",{staticClass:"cover--info--text--new",attrs:{to:"bookinformatecatelog",tag:"div"},nativeOn:{click:function(e){return t.propCatelog(e)}}},[o("i",{staticClass:"li2"}),o("span",{staticClass:"ltext"},[t._v("目录")]),o("span",{staticClass:"ctext"},[t._v("点一下")]),o("i",{staticClass:"ri"})])],1),t._v(" "),o("section",{staticClass:"comments"},[o("h3",{staticClass:"comments--header"},[t._v("精华评论")]),t._v(" "),o("ul",{staticClass:"comments--ul"},t._l(t.commentData,function(e,a){return o("li",{key:a,staticClass:"comments--ul__li"},[o("div",[o("div",{staticClass:"comments--ul__li--header"},[o("img",{directives:[{name:"lazyLoad",rawName:"v-lazyLoad",value:e.userPhoto,expression:"item.userPhoto"}],staticClass:"comments--ul__li--header--photo",attrs:{src:"",alt:""}}),t._v(" "),o("span",{staticClass:"comments--ul__li--header--name"},[t._v(t._s(e.nickName))])]),t._v(" "),o("div",{staticClass:"comments--ul__li--text"},[t._v("\n            "+t._s(e.text)+"\n          ")])])])}))]),t._v(" "),o("section",{staticClass:"bookBox"},[o("div",{staticClass:"book-box"},[o("h3",{staticClass:"bookBox--h3"},[t._v("看过这本书的人还在看")]),t._v(" "),o("div",{staticClass:"li__box"},[o("div",{staticClass:"li__box--ul"},[o("ul",{staticClass:"bookBox--c"},t._l(t.result1,function(e,a){return o("li",{key:a,attrs:{bid:e.bid},on:{click:t.changeInfoBook}},[o("img",{directives:[{name:"lazyLoad",rawName:"v-lazyLoad",value:e.imgUrl,expression:"item.imgUrl"}],attrs:{src:"",alt:e.linkText}}),t._v(" "),o("span",[t._v(t._s(e.linkText))])])}))])]),t._v(" "),o("div",{staticClass:"refresh__box",on:{click:t.addrefresh}},[o("span",{staticClass:"refresh__box--text"},[t._v("换一换")]),t._v(" "),o("span",{staticClass:"refresh__box--icon"})])])]),t._v(" "),o("section",{staticClass:"otherBooks"},[o("h3",{staticClass:"otherbooks--h3"},[t._v("作者的所有作品")]),t._v(" "),o("ul",{staticClass:"box__ul"},t._l(t.arrResult,function(e,a){return o("router-link",{key:a,staticClass:"box__ul__li",attrs:{to:"bookinformation",tag:"li",bid:e.bid},nativeOn:{click:function(e){return t.changeBookId(e)}}},[o("div",{staticClass:"box__ul__li--imgBox"},[o("img",{directives:[{name:"lazyLoad",rawName:"v-lazyLoad",value:e.imgUrl,expression:"item.imgUrl"}],staticClass:"box__ul__li--imgBox--img",attrs:{src:"",alt:e.author}})]),t._v(" "),o("div",{staticClass:"box__ul__li--right"},[o("div",{staticClass:"box__ul__li--right--title"},[o("h3",{staticClass:"box__ul__li--right--title--h3"},[t._v(t._s(e.title))])]),t._v(" "),o("div",{staticClass:"box__ul__li--right--author"},[o("p",{staticClass:"box__ul__li--right--author--author"},[t._v(t._s(e.author))])]),t._v(" "),o("div",{staticClass:"box__ul__li--right--tags"},[1==e.status?o("span",{staticClass:"statNameblue"},[t._v("连载")]):o("span",{staticClass:"statNamered"},[t._v("完结")]),t._v(" "),o("span",{staticClass:"box__ul__li--right--tags--words"},[t._v(t._s(e.words))]),t._v(" "),o("span",{staticClass:"box__ul__li--right--tags--one"},[t._v(t._s(e.tags))])])])])}))])])},staticRenderFns:[]};var p=o("VU/8")(b,k,!1,function(t){o("vXKh")},"data-v-586ebb76",null);e.default=p.exports},mvHQ:function(t,e,o){t.exports={default:o("qkKv"),__esModule:!0}},qkKv:function(t,e,o){var a=o("FeBl"),s=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return s.stringify.apply(s,arguments)}},vXKh:function(t,e){}});
//# sourceMappingURL=4.9ef9f7c006c47276482b.js.map