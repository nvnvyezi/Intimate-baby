webpackJsonp([21],{"6C6s":function(e,t){},Prze:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("P9l9"),r={name:"bookSearch",data:function(){return{searchJudge:!1,searchData1:[],iconJudge:!1}},methods:{deleteVal:function(e){document.getElementsByClassName("form__search__content--input")[0].value="",this.iconJudge=!1,this.searchJudge=!1},getSearchData:function(e){var t=this;this.iconJudge=!0,Object(s.q)(e.target.value,function(e){1===e.status?(t.searchJudge=!0,e.data.length>4?t.searchData1=e.data.slice(0,4):t.searchData1=e.data):t.searchJudge=!1})},saveHistory:function(e){var t=e.target.innerText;if(""!==t){var a=[];null!=localStorage.getItem("searchHistory")&&(a=localStorage.getItem("searchHistory").split(",")),-1===a.indexOf(t)&&(a.unshift(t),localStorage.setItem("searchHistory",a)),this.$store.dispatch({type:"triggerSearchData",data:t}),localStorage.setItem("searchData",t),document.getElementsByClassName("form__search__content--input")[0].value=t,this.searchJudge=!1}}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("div",{staticClass:"form__search"},[a("div",{staticClass:"form__search__content"},[a("span",{staticClass:"form__search__content--icon"}),e._v(" "),a("input",{staticClass:"form__search__content--input",attrs:{type:"text",name:"",placeholder:"书名/作者/关键词"},on:{input:e.getSearchData}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.iconJudge,expression:"iconJudge"}],staticClass:"form__search__content--icon1",on:{click:e.deleteVal}})])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.searchJudge,expression:"searchJudge"}],staticClass:"searchDataBox1"},[a("ul",{staticClass:"searchDataBox1__ul"},e._l(e.searchData1,function(t,s){return a("router-link",{key:s,staticClass:"searchDataBox1__ul--li",attrs:{to:"booksearchdata",tag:"li"},nativeOn:{click:function(t){return e.saveHistory(t)}}},[e._v(e._s(t))])}))]),e._v(" "),a("keep-alive",[e.$route.meta.keepAlive?a("router-view"):e._e()],1),e._v(" "),e.$route.meta.keepAlive?e._e():a("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")(r,c,!1,function(e){a("6C6s")},"data-v-47dbd161",null);t.default=n.exports}});
//# sourceMappingURL=21.482fd4372827c747f907.js.map